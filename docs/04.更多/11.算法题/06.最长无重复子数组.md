---
title: 最长无重复子数组
date: 2021-07-12 20:28:03
permalink: /pages/4399d5/
categories:
  - 更多
  - 算法题
tags:
  - 
---

## 1 题目

给定一个数组arr，返回arr的最长无重复元素子数组的长度，无重复指的是所有数字都不相同。
子数组是连续的，比如[1,3,5,7,9]的子数组有[1,3]，[3,5,7]等等，但是[1,3,7]不是子数组

**示例**

```
输入：[2,2,3,4,3]
返回值：3
```

## 2 题解

### 2.1 解法一

进行一次遍历，找到每个元素开头的无重复子串的长度，并找到最大的那个。
如何找到每个元素开头的无重复子串？
主要是需要进行去重，我这里使用Map
1. 判断当前元素是否在map中，如果不在，则加入map中，子串长度+1
2. 如果当前元素在map中，则说明有重复，此时可以将i进行回溯到检测到重复的位置的下一个，且将当前计数器清空，map清空。

```
/**
 * 
 * @param arr int整型一维数组 the array
 * @return int整型
 */
function maxLength( arr ) {
    let sum = 0;
    let maxSum = 0;
    let map = new Map()
    for(let i=0;i<arr.length;i++) {
      if(!map.has(arr[i])){
        map.set(arr[i],i)
        sum++
        maxSum = Math.max(sum,maxSum)
      } else {
        sum = 0
        i = map.get(arr[i])
        map = new Map()
      }
    }
    return maxSum
}
module.exports = {
    maxLength : maxLength
};
```

### 2.1 解法二

双指针：

1. map中不存在右指针， 记录当前长度。
2. map 中存在右指针：
    a: map中 右指针位置在左指针的左边，完全不影响，继续记录当前长度
    b. map中 右指针位置在左指针右边，需要重新选取长度。

3. 存右指针到map

```
function maxLength( arr ) {
  if(arr.length===0)  return 0
  let map = new Map()
  let left = 0
  let right = 0
  let res = 0
  while( left <= right && right < arr.length) {
    if(!map.has(arr[right])) {
      res = Math.max(right-left+1,res)
    } else {
      if(map.get(arr[right]) < left){
        res = Math.max(right-left+1,res)
      } else {
        left = map.get(arr[right]) + 1
      }
    }
    map.set(arr[right],right)
    right++
  }
  return res
}
module.exports = {
    maxLength : maxLength
};
```