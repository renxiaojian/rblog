(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{428:function(s,n,a){"use strict";a.r(n);var t=a(21),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-call-和-apply-的相同点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-call-和-apply-的相同点"}},[s._v("#")]),s._v(" 1 call 和 apply 的相同点")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("简单的讲：两个方法的第一个参数是代表函数体内"),a("code",[s._v("this")]),s._v("的指向")])]),s._v(" "),a("li",[a("p",[s._v("严格的讲：第一个参数指运行时指定的 "),a("code",[s._v("this")]),s._v("。而且，"),a("code",[s._v("this")]),s._v(" 可能不是该方法看到的实际值：如果这个函数处于非严格模式下，则指定为 "),a("code",[s._v("null")]),s._v(" 或 "),a("code",[s._v("undefined")]),s._v(" 时会自动替换为指向全局对象，原始值会被包装。严格模式下，函数的this值就是call和apply的第一个参数")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 例子1：浏览器环境 非严格模式下\nvar doSth = function(a, b){\n    console.log(this);\n    console.log([a, b]);\n}\ndoSth.apply(null, [1, 2]); // this是window  // [1, 2]\ndoSth.apply(0, [1, 2]); // this 是 Number(0) // [1, 2]\ndoSth.apply(true); // this 是 Boolean(true) // [undefined, undefined]\ndoSth.call(undefined, 1, 2); // this 是 window // [1, 2]\ndoSth.call('0', 1, {a: 1}); // this 是 String('0') // [1, {a: 1}]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 例子2：浏览器环境 严格模式下\n'use strict';\nvar doSth2 = function(a, b){\n    console.log(this);\n    console.log([a, b]);\n}\ndoSth2.call(0, 1, 2); // this 是 0 // [1, 2]\ndoSth2.apply('1'); // this 是 '1' // [undefined, undefined]\ndoSth2.apply(null, [1, 2]); // this 是 null // [1, 2]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"_2-call-和-apply-的不同点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-call-和-apply-的不同点"}},[s._v("#")]),s._v(" 2 call 和 apply 的不同点")]),s._v(" "),a("p",[a("code",[s._v("call")]),s._v(" 参数不固定，第二个往后参数依次传入")]),s._v(" "),a("p",[a("code",[s._v("apply")]),s._v(" 参数就两个，第二个参数为集合，这个集合可以为数组，也可以为类数组")]),s._v(" "),a("h2",{attrs:{id:"_3-call-和-apply-的用途"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-call-和-apply-的用途"}},[s._v("#")]),s._v(" 3 call 和 apply 的用途")]),s._v(" "),a("h3",{attrs:{id:"_3-1-改变-this-的指向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-改变-this-的指向"}},[s._v("#")]),s._v(" 3.1 改变 this 的指向")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const obj1 = { name : 'ming' } \nconst obj2 = { name : 'hong' }\nwindow.name = 'window'\nconst getName = function(){\n  console.log(this.name)\n}\n\ngetName()   // window\ngetName.call(obj1)  // ming\ngetName.call(obj2)  // hong\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_3-2-借用其它对象的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-借用其它对象的方法"}},[s._v("#")]),s._v(" 3.2 借用其它对象的方法")]),s._v(" "),a("h4",{attrs:{id:"_3-2-1-借用构造函数实现继承"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-借用构造函数实现继承"}},[s._v("#")]),s._v(" 3.2.1 借用构造函数实现继承")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const fatherFunc = function(name){\n  this.name = name\n}\nfatherFunc.prototype.say = function(){\n  console.log('My name is ',this.name)\n}\nconst sonFunc = function(){\n  fatherFunc.apply(this,arguments)\n}\nsonFunc.prototype.getName = function(){\n  return this.name\n}\nconst son = new sonFunc('剑')\nson.getName()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"_3-2-2-借用内置对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-借用内置对象"}},[s._v("#")]),s._v(" 3.2.2 借用内置对象")]),s._v(" "),a("ol",[a("li",[s._v("合并两个数组")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const arr1 = [1,2,3]\nconst arr2 = [4,5,6]\nArray.prototype.push.apply(arr1,arr2)\narr1:\n// [1,2,3,4,5,6]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("获取数组中的最大值和最小值")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var numbers = [5, 458 , 120 , -215 ]\nMath.max.apply(Math, numbers)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("验证是否是数组")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 方法1\nfunction isArray(obj){ \n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n// 方法2\nvar toStr = Function.prototype.call.bind(Object.prototype.toString);\nfunction isArray(obj){ \n    return toStr(obj) === '[object Array]';\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("类数组转成数组")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var arr = [].slice.call(arguments)；\n\nES6:\nlet arr = Array.from(arguments);\nlet arr = [...arguments];\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_4-call-模拟实现过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-call-模拟实现过程"}},[s._v("#")]),s._v(" 4 call 模拟实现过程")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var value = 1;\nvar foo = {\n    value: 1\n};\n\nfunction bar() {\n    console.log(this.value);\n}\n\nbar.call(foo); // 1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("call()主要有以下两点：")]),s._v(" "),a("ol",[a("li",[s._v("改变 "),a("code",[s._v("this")]),s._v(" 的指向")]),s._v(" "),a("li",[s._v("函数 "),a("code",[s._v("bar")]),s._v(" 执行了")])]),s._v(" "),a("h3",{attrs:{id:"_4-1-模拟实现第一步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-模拟实现第一步"}},[s._v("#")]),s._v(" 4.1 模拟实现第一步")]),s._v(" "),a("p",[s._v("在调用call()的时候把函数 bar()添加到foo()对象中，即如下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var foo = {\n    value: 1,\n    bar: function() {\n        console.log(this.value);\n    }\n};\n\nfoo.bar(); // 1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("这个改动就可以实现：改变了this的指向并且执行了函数bar。foo额外添加了一个属性,用 delete 删掉就好了。")]),s._v(" "),a("ul",[a("li",[s._v("将函数设置为对象的属性")]),s._v(" "),a("li",[s._v("执行函数")]),s._v(" "),a("li",[s._v("删除函数")])]),s._v(" "),a("p",[s._v("第一版本如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.call2 = function(context){\n  context.fn = this\n  context.fn()\n  delete context.fn\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_4-2-模拟实现第二步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-模拟实现第二步"}},[s._v("#")]),s._v(" 4.2 模拟实现第二步")]),s._v(" "),a("p",[s._v("第一版有个问题，函数不能接受参数，所以我们可以从 arguments中获取参数，取出第二个到最后一个参数放到数组中，为什么要抛弃第一个参数呢，因为第一个参数是 this。")]),s._v(" "),a("p",[s._v("类数组转成数组，使用ES3的方案")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var args = [];\nfor(var i = 1, len = arguments.length; i < len; i++) {\n    args.push('arguments[' + i + ']');\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("第二版本如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.call2 = function(context) {\n    context.fn = this;\n    var args = [];\n    for(var i = 1, len = arguments.length; i < len; i++) {\n        args.push('arguments[' + i + ']');\n    }\n    eval('context.fn(' + args +')');\n    delete context.fn;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"_4-3-模拟实现第三步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-模拟实现第三步"}},[s._v("#")]),s._v(" 4.3 模拟实现第三步")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("this")]),s._v(" 参数可以传 "),a("code",[s._v("null")]),s._v(" 或者 "),a("code",[s._v("undefined")]),s._v("，此时 this 指向 window；"),a("code",[s._v("this")]),s._v(" 参数可以传基本类型数据，原生的 "),a("code",[s._v("call")]),s._v(" 会自动用 "),a("code",[s._v("Object()")]),s._v(" 转换")]),s._v(" "),a("li",[s._v("函数是可以有返回值的")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.call2 = function (context) {\n    context = context ? Object(context) : window; // 实现细节 1\n    context.fn = this;\n\n    var args = [];\n    for(var i = 1, len = arguments.length; i < len; i++) {\n        args.push('arguments[' + i + ']');\n    }\n\n    var result = eval('context.fn(' + args +')');\n\n    delete context.fn\n    return result; // 实现细节 2\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h2",{attrs:{id:"_5-call-的模拟实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-call-的模拟实现"}},[s._v("#")]),s._v(" 5 call 的模拟实现")]),s._v(" "),a("h4",{attrs:{id:"es3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es3"}},[s._v("#")]),s._v(" ES3")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.call = function (context) {\n    context = context ? Object(context) : window; \n    context.fn = this;\n\n    var args = [];\n    for(var i = 1, len = arguments.length; i < len; i++) {\n        args.push('arguments[' + i + ']');\n    }\n    var result = eval('context.fn(' + args +')');\n\n    delete context.fn\n    return result;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"es6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6"}},[s._v("#")]),s._v(" ES6")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.call = function (context) {\n  context = context ? Object(context) : window; \n  context.fn = this;\n\n  let args = [...arguments].slice(1);\n  let result = context.fn(...args);\n\n  delete context.fn\n  return result;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"_6-apply-的模拟实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-apply-的模拟实现"}},[s._v("#")]),s._v(" 6 apply 的模拟实现")]),s._v(" "),a("h4",{attrs:{id:"es3-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es3-2"}},[s._v("#")]),s._v(" ES3")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.apply = function (context, arr) {\n    context = context ? Object(context) : window; \n    context.fn = this;\n\n    var result;\n    // 判断是否存在第二个参数\n    if (!arr) {\n        result = context.fn();\n    } else {\n        var args = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            args.push('arr[' + i + ']');\n        }\n        result = eval('context.fn(' + args + ')');\n    }\n\n    delete context.fn\n    return result;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h4",{attrs:{id:"es6-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6-2"}},[s._v("#")]),s._v(" ES6")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.apply = function (context, arr) {\n    context = context ? Object(context) : window; \n    context.fn = this;\n  \n    let result;\n    if (!arr) {\n        result = context.fn();\n    } else {\n        result = context.fn(...arr);\n    }\n      \n    delete context.fn\n    return result;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);